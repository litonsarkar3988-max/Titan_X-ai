<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TITAN_X AI | ‡¶∞‡¶æ‡¶π‡ßÅ‡¶≤ ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <style>
        body { background-color: #0d1117; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        #app { width: 90%; max-width: 400px; background: #161b22; padding: 20px; border-radius: 15px; box-shadow: 0 0 20px rgba(0,212,255,0.3); text-align: center; }
        .btn { background: #00d4ff; color: black; border: none; padding: 12px 25px; border-radius: 25px; font-weight: bold; cursor: pointer; margin-top: 20px; width: 100%; }
        #chat-box { display: none; text-align: left; }
        #messages { height: 350px; overflow-y: auto; border-bottom: 1px solid #30363d; margin-bottom: 15px; padding: 10px; font-size: 14px; }
        .input-area { display: flex; gap: 5px; }
        input { flex: 1; padding: 12px; border-radius: 5px; border: 1px solid #30363d; background: #0d1117; color: white; outline: none; }
        .send-btn { background: #00d4ff; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .user-msg { color: #58a6ff; margin-bottom: 10px; }
        .bot-msg { color: #00d4ff; margin-bottom: 10px; }
    </style>
</head>
<body>

<div id="app">
    <div id="login-screen">
        <h1 style="color: #00d4ff; margin-bottom: 5px;">TITAN_X AI</h1>
        <p style="font-size: 12px; color: #8b949e;">‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∞‡¶æ‡¶π‡ßÅ‡¶≤ ‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡ßá‡¶∞ ‡¶è‡¶Ü‡¶á ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü</p>
        <button class="btn" onclick="login()">Google ‡¶¶‡¶ø‡ßü‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    </div>

    <div id="chat-box">
        <h3 style="margin-top: 0; color: #00d4ff; border-bottom: 1px solid #30363d; padding-bottom: 10px;">‡¶ü‡¶æ‡¶á‡¶ü‡¶æ‡¶® ‡¶è‡¶ï‡ßç‡¶∏</h3>
        <div id="messages"></div>
        <div class="input-area">
            <input type="text" id="userInput" placeholder="‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...">
            <button class="send-btn" onclick="sendMsg()">üöÄ</button>
        </div>
    </div>
</div>

<script>
    // ‡¶´‡¶æ‡ßü‡¶æ‡¶∞‡¶¨‡ßá‡¶∏ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶®
    const firebaseConfig = {
        apiKey: "AIzaSyBFmq0OOzP4Pr66MepjqdO-LTU3v6x4cfE", 
        authDomain: "titan-x-ai.firebaseapp.com",
        projectId: "titan-x-ai",
        storageBucket: "titan-x-ai.firebasestorage.app",
        messagingSenderId: "8318559972",
        appId: "1:8318559972:web:93c76ed9e38d5807b72ef1"
    };
    firebase.initializeApp(firebaseConfig);

    // ‡¶≤‡¶ó‡¶á‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶è‡¶ü‡¶ø ‡¶Ü‡¶Æ‡¶ø ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡¶ø)
    function login() {
        const provider = new firebase.auth.GoogleAuthProvider();
        firebase.auth().signInWithPopup(provider).catch(err => {
            alert("‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: " + err.message + "\n\n‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá Chrome ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
        });
    }

    // ‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡¶≤‡ßá ‡¶Ø‡¶æ ‡¶π‡¶¨‡ßá
    firebase.auth().onAuthStateChanged(user => {
        if (user) {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('chat-box').style.display = 'block';
            addMsg("‡¶ü‡¶æ‡¶á‡¶ü‡¶æ‡¶®", `‡¶®‡¶Æ‡¶∏‡ßç‡¶ï‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∞‡¶æ‡¶π‡ßÅ‡¶≤! ‡¶Ü‡¶Æ‡¶ø ‡¶ü‡¶æ‡¶á‡¶ü‡¶æ‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø?`, "bot-msg");
        }
    });

    // ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    async function sendMsg() {
        const input = document.getElementById('userInput');
        const text = input.value;
        if (!text) return;

        addMsg("‡¶Ü‡¶™‡¶®‡¶ø", text, "user-msg");
        input.value = "";

        try {
            const res = await fetch('https://titan-x-server.onrender.com/chat', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ message: text })
            });
            const data = await res.json();
            addMsg("‡¶ü‡¶æ‡¶á‡¶ü‡¶æ‡¶®", data.reply, "bot-msg");
        } catch (err) {
            addMsg("‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ", "‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡ßç‡¶ü ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§ ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§", "bot-msg");
        }
    }

    function addMsg(sender, msg, className) {
        const div = document.getElementById('messages');
        div.innerHTML += `<div class="${className}"><strong>${sender}:</strong> ${msg}</div>`;
        div.scrollTop = div.scrollHeight;
    }
</script>

</body>
</html>
